group 'com.github.onsn'
version '1.0'

apply plugin: 'java'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    compile fileTree(dir: 'libs', include: ['*.jar'])
    testCompile group: 'junit', name: 'junit', version: '4.11'
}

task toUnicode << {
    File oldResource = file(new File('src/main/resources/com/github/onsn/resources/lang/diarymaker_zh_temp.properties'))
    File newResource = file(new File('src/main/resources/com/github/onsn/resources/lang/diarymaker_zh.properties'))
    def oldPath = oldResource.absolutePath
    def newPath = newResource.absolutePath

    println("native2ascii $oldPath $newPath")
    "native2ascii $oldPath $newPath".execute()
}

build.dependsOn toUnicode

jar {
    manifest {
        attributes 'Main-Class': 'com.github.onsn.DiaryMaker'
    }

}

